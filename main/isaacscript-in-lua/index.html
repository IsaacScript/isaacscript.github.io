<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-main/isaacscript-in-lua" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Using IsaacScript in Lua | IsaacScript</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://isaacscript.github.io/main/isaacscript-in-lua"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Using IsaacScript in Lua | IsaacScript"><meta data-rh="true" name="description" content="A library is a collection of helper functions and features that make writing your program easier. Instead of sticking a ton of low-level code in your program, you can instead call a single library function, abstracting away all the complexity and keeping your program nice and clean. In the Isaac modding scene, libraries are really great because the standard API is quite limited."><meta data-rh="true" property="og:description" content="A library is a collection of helper functions and features that make writing your program easier. Instead of sticking a ton of low-level code in your program, you can instead call a single library function, abstracting away all the complexity and keeping your program nice and clean. In the Isaac modding scene, libraries are really great because the standard API is quite limited."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://isaacscript.github.io/main/isaacscript-in-lua"><link data-rh="true" rel="alternate" href="https://isaacscript.github.io/main/isaacscript-in-lua" hreflang="en"><link data-rh="true" rel="alternate" href="https://isaacscript.github.io/main/isaacscript-in-lua" hreflang="x-default"><link rel="search" type="application/opensearchdescription+xml" title="IsaacScript" href="/opensearch.xml">
<script src="/js/hotkey.js"></script><link rel="stylesheet" href="/assets/css/styles.ba18861e.css">
<script src="/assets/js/runtime~main.736cbdc9.js" defer="defer"></script>
<script src="/assets/js/main.f6955c63.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_G6ar" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/isaacscript-logo.png" alt="IsaacScript Logo" class="themedComponent_DHUr themedComponent--light_DIHH"><img src="/img/isaacscript-logo.png" alt="IsaacScript Logo" class="themedComponent_DHUr themedComponent--dark_Bv2M"></div><b class="navbar__title text--truncate">IsaacScript</b></a><a class="navbar__item navbar__link" href="/main/features">Main</a><a class="navbar__item navbar__link" href="/isaac-typescript-definitions">isaac-typescript-definitions</a><a class="navbar__item navbar__link" href="/isaacscript-common">isaacscript-common</a><a class="navbar__item navbar__link" href="/eslint-config-isaacscript">eslint-config-isaacscript</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/IsaacScript/isaacscript" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><a href="https://discord.gg/KapmKQ2gUD" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link"></a><a href="https://wofsauge.github.io/IsaacDocs/rep/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-wof-link"></a><div class="toggle_OLSw colorModeToggle_Hg9V"><button class="clean-btn toggleButton_wYmb toggleButtonDisabled_vaDU" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Sxwe"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_Yem1"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_bmvg"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_UyTV"><div class="docsWrapper_XLvK"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_z1FD" type="button"></button><div class="docRoot_HciC"><aside class="theme-doc-sidebar-container docSidebarContainer_e5ai"><div class="sidebarViewport_N8x0"><div class="sidebar_vJCc"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_qiME"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/main/features">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/main/discord">Basic Info</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/main/javascript-tutorial">Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/main/converting-lua-code">Other Info</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/converting-lua-code">Converting Lua Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/updating-isaacscript">Updating IsaacScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/custom-stages">Custom Stages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/publishing-to-the-workshop">Publishing to the Workshop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/gotchas">Gotchas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/main/isaacscript-in-lua">Using IsaacScript in Lua</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/main/isaacscript-in-typescript">Using IsaacScript in TypeScript</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/main/change-log">Change Log</a></li></ul></nav></div></div></aside><main class="docMainContainer_namt"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_YAwJ"><div class="docItemContainer_Rv5Z"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_zCmv" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_JFrk"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Other Info</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Using IsaacScript in Lua</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_O_Qc theme-doc-toc-mobile tocMobile_tjDr"><button type="button" class="clean-btn tocCollapsibleButton_htYj">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Using IsaacScript in Lua</h1></header><p>A <a href="https://en.wikipedia.org/wiki/Library_(computing)" target="_blank" rel="noopener noreferrer">library</a> is a collection of helper functions and features that make writing your program easier. Instead of sticking a ton of low-level code in your program, you can instead call a single library function, abstracting away all the complexity and keeping your program nice and clean. In the Isaac modding scene, libraries are really great because the standard API is quite limited.</p>
<p>The IsaacScript framework contains two <em>Binding of Isaac: Repentance</em> libraries:</p>
<ul>
<li><code>isaac-typescript-definitions</code> - A leveled-up version of the vanilla enums with many bug fixes and community contributed additions for everything that the developers forgot to include. You can learn more about every enum by <a href="/isaac-typescript-definitions">reading the documentation</a>.</li>
<li><code>isaacscript-common</code> - Helper functions and features that abstract away much of the complexity in working with the Isaac API. It&#x27;s the biggest and most advanced Isaac library ever written. You can learn more about every function and feature by <a href="/isaacscript-common">reading the documentation</a>.</li>
</ul>
<p>If you are writing your mod in <a href="/main/features">TypeScript</a>, then using these libraries is effortless - you can just start typing the names of the enums or functions, and the auto-complete will automatically import them (and include them in your final bundled mod).</p>
<p>If you are writing your mod in Lua, then you can also leverage the power of these libraries by downloading the <code>isaacscript-common.lua</code> file and placing it alongside your Lua code. Read on for the specifics.</p>
<p>Note that for Lua users, both <code>isaac-typescript-definitions</code> and <code>isaacscript-common</code> are combined into one library bundle, so all you need is one file. From here on out, both libraries will be simply referred to as &quot;the library&quot;.</p>
<br>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="automatic-installation-optional">Automatic Installation (Optional)<a href="#automatic-installation-optional" class="hash-link" aria-label="Direct link to Automatic Installation (Optional)" title="Direct link to Automatic Installation (Optional)">​</a></h2>
<p>If you have Python installed on your computer and you know what a terminal/shell is, then the easiest way to install the library is to use the <code>isaacscript-lua</code> Python tool. Otherwise, you can use the <a href="#manual-installation">manual installation</a> (see below).</p>
<ul>
<li>In a terminal, navigate to the directory of your mod.</li>
<li>Install the tool: <code>pip install isaacscript-lua --upgrade</code></li>
<li>Install the Lua library: <code>isaacscript-lua install</code></li>
</ul>
<p>If you get <code>ERROR: Could not find a version that satisfies the requirement isaacscript-lua (from versions: none)</code>, that means that your version of Python is too old. Make sure that you have Python version 3.10 or later installed.</p>
<br>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="manual-installation">Manual Installation<a href="#manual-installation" class="hash-link" aria-label="Direct link to Manual Installation" title="Direct link to Manual Installation">​</a></h2>
<p>Here, &quot;installing&quot; is a loose term. All you really need to do is to put the <code>isaacscript-common.lua</code> file inside your mod. (This is essentially the same thing as copy-pasting code snippets directly into your mod, except that the library code lives in its own dedicated file.)</p>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="step-1---download-the-library">Step 1 - Download the Library<a href="#step-1---download-the-library" class="hash-link" aria-label="Direct link to Step 1 - Download the Library" title="Direct link to Step 1 - Download the Library">​</a></h3>
<p>Download it from the npm registry: <a href="https://unpkg.com/isaacscript-common@latest/dist/isaacscript-common.lua" target="_blank" rel="noopener noreferrer">https://unpkg.com/isaacscript-common@latest/dist/isaacscript-common.lua</a></p>
<p>Use right-click + save link as.</p>
<p>(Note that by specifying &quot;latest&quot; as the version in the URL, the website will redirect us to the numbers that correspond to the latest version.)</p>
<p>It will save to a file called &quot;isaacscript-common.lua&quot;.</p>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="step-2---put-it-in-your-mod">Step 2 - Put It In Your Mod<a href="#step-2---put-it-in-your-mod" class="hash-link" aria-label="Direct link to Step 2 - Put It In Your Mod" title="Direct link to Step 2 - Put It In Your Mod">​</a></h3>
<ul>
<li>Create a subdirectory in your mod called the same thing as you mod.
<ul>
<li>For example, if your mod is located at <code>C:\Repositories\revelations</code>, create a subdirectory called <code>C:\Repositories\revelations\revelations</code>.</li>
</ul>
</li>
<li>Create a subdirectory in the new directory called <code>lib</code>.
<ul>
<li>For example, if your mod is located at <code>C:\Repositories\revelations</code>, create a subdirectory called <code>C:\Repositories\revelations\revelations\lib</code>.</li>
</ul>
</li>
<li>Put the &quot;isaacscript-common.lua&quot; file in the <code>lib</code> directory.
<ul>
<li>For example, if your mod is located at <code>C:\Repositories\revelations</code>, it would go to <code>C:\Repositories\revelations\revelations\lib\isaacscript-common.lua</code>.</li>
</ul>
</li>
</ul>
<p>In other words, your file structure should look something like this:</p>
<div class="language-text codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-text codeBlock_TAPP thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#9CDCFE"><span class="token plain">my-mod/</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">|── main.lua (the Lua entry point to your mod)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">|── metadata.xml (the Steam Workshop file)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">└── my-mod/ (a subdirectory with the same name as your mod for the purpose of preventing namespace conflicts)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    └── lib/ (a subdirectory that contains 3rd-party library code)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">        └── isaacscript-common.lua</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>(Creating a directory of the same name is necessary because in the Isaac environment, we must <a href="https://wofsauge.github.io/IsaacDocs/rep/tutorials/Using-Additional-Lua-Files.html#the-namespacing-problem-with-require" target="_blank" rel="noopener noreferrer">namespace all of our code</a>. As the documentation explains, using <code>include</code> does not obviate the need to do this because we need the ability to access the library in more than one Lua file. Having to namespace code is one of the disadvantages of using Lua instead of TypeScript.)</p>
<br>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="basic-usage">Basic Usage<a href="#basic-usage" class="hash-link" aria-label="Direct link to Basic Usage" title="Direct link to Basic Usage">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="import-the-library">Import the Library<a href="#import-the-library" class="hash-link" aria-label="Direct link to Import the Library" title="Direct link to Import the Library">​</a></h3>
<p>At the top of the Lua file where you want to use the library, use the following import statement:</p>
<div class="language-lua codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-lua codeBlock_TAPP thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> isc </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-mod.lib.isaacscript-common&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that:</p>
<ul>
<li>You must replace &quot;my-mod&quot; with the name of your mod, which corresponds to the namespaced directory from the previous step.</li>
<li>The period in the <code>require</code> invocation is a directory separator. (It is conventional in Lua to use a period instead of a slash.)</li>
<li>You must repeat this import statement in every Lua file where you use the library. (One disadvantage of using Lua over TypeScript is that you don&#x27;t have automatic imports.)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="using-pure-functions">Using Pure Functions<a href="#using-pure-functions" class="hash-link" aria-label="Direct link to Using Pure Functions" title="Direct link to Using Pure Functions">​</a></h3>
<p>Most functions in the library are exported from the root. For example:</p>
<div class="language-lua codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-lua codeBlock_TAPP thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> isc </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-mod.lib.isaacscript-common&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">anyPlayerHasSadOnion</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">return</span><span class="token plain"> isc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token function" style="color:rgb(220, 220, 170)">anyPlayerHasCollectible</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">CollectibleType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">COLLECTIBLE_SAD_ONION</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">anyPlayerHasSadOnion</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">print</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;One or more players has a Sad Onion.&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that similar to most Lua libraries, you must use a colon (instead of a period) when invoking functions, since the library is an exported module.</p>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="using-enums">Using Enums<a href="#using-enums" class="hash-link" aria-label="Direct link to Using Enums" title="Direct link to Using Enums">​</a></h3>
<p>As previously mentioned, the enums from <code>isaac-typescript-definitions</code> are also exported from <code>isaacscript-common</code> for your use.</p>
<p>For example, there is no vanilla <code>GaperVariant</code> enum, but in IsaacScript, there is:</p>
<div class="language-lua codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-lua codeBlock_TAPP thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> entity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">Type </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> EntityType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">ENTITY_GAPER </span><span class="token keyword" style="color:rgb(86, 156, 214)">and</span><span class="token plain"> entity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">Variant </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> isc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GaperVariant</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">FLAMING_GAPER </span><span class="token keyword" style="color:rgb(86, 156, 214)">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">print</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;This is a Flaming Gaper!&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>One of the advantages of the improved enums is that they don&#x27;t have the pointless prefix. So you could slightly improve the previous code snippet like this:</p>
<div class="language-lua codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-lua codeBlock_TAPP thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">if</span><span class="token plain"> entity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">Type </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> isc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">EntityType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GAPER </span><span class="token keyword" style="color:rgb(86, 156, 214)">and</span><span class="token plain"> entity</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">Variant </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> isc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">GaperVariant</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">FLAMING_GAPER </span><span class="token keyword" style="color:rgb(86, 156, 214)">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">print</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;This is a Flaming Gaper!&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>As a general safety practice, you should always use the library enums over the vanilla enums because the vanilla enums are not safe - they can be modified by other mods and deleted.</p>
<br>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="using-custom-callbacks">Using Custom Callbacks<a href="#using-custom-callbacks" class="hash-link" aria-label="Direct link to Using Custom Callbacks" title="Direct link to Using Custom Callbacks">​</a></h3>
<p>Like any good library, importing anything in <code>isaacscript-common</code> will not cause any code to be executed in your mod. Most of its functions are <a href="https://en.wikipedia.org/wiki/Pure_function" target="_blank" rel="noopener noreferrer">pure functions</a>.</p>
<p>However, in order for <a href="/isaacscript-common/other/enums/ModCallbackCustom">the custom callbacks</a> and the <a href="#using-extra-features">extra features</a> to work, some code does need to be executed. This is because these features need to track when certain things happen in-game. In order to enable this functionality, you must upgrade your mod with the <code>upgradeMod</code> function.</p>
<p>For example:</p>
<div class="language-lua codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-lua codeBlock_TAPP thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> isc </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-mod.lib.isaacscript-common&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> modVanilla </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">RegisterMod</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Foo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> mod </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> isc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token function" style="color:rgb(220, 220, 170)">upgradeMod</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">modVanilla</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">-- Register normal callbacks.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">mod</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token function" style="color:rgb(220, 220, 170)">AddCallback</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">ModCallbacks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">MC_USE_ITEM</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">collectibleType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  Isaac</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">DebugString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;MC_USE_ITEM fired - item was: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">..</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">tostring</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">collectibleType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">-- Register custom callbacks.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">mod</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token function" style="color:rgb(220, 220, 170)">AddCallbackCustom</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">isc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">ModCallbackCustom</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">POST_ITEM_PICKUP</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">player</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> pickingUpItem</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  Isaac</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">DebugString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;POST_ITEM_PICKUP fired - item was: &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">..</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">tostring</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">pickupUpItem</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">subType</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<br>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="using-extra-features">Using Extra Features<a href="#using-extra-features" class="hash-link" aria-label="Direct link to Using Extra Features" title="Direct link to Using Extra Features">​</a></h3>
<p>Some helper functions rely on stateful tracking (like <code>isPlayerUsingPony</code>) or store data about what you want to do for later (like <code>setHotkey</code>). These fall under the category of &quot;extra features&quot;. Since they are non-pure, you are only able to access them if you upgrade your mod. However, this is slightly different than upgrading your mod for custom callbacks.</p>
<p>Instead of activating every feature when you upgrade your mod, the standard library keeps things blazing fast by only activating the specific features that you need. Thus, when you upgrade your mod, you have to tell the library which features you want by passing them as the second argument to the <code>upgradeMod</code> function.</p>
<p>For example:</p>
<div class="language-lua codeBlockContainer_ZGJx theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#1E1E1E"><div class="codeBlockContent_qZBB"><pre tabindex="0" class="prism-code language-lua codeBlock_TAPP thin-scrollbar" style="color:#9CDCFE;background-color:#1E1E1E"><code class="codeBlockLines_AdAo"><span class="token-line" style="color:#9CDCFE"><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> isc </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-mod.lib.isaacscript-common&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> modVanilla </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">RegisterMod</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Foo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(181, 206, 168)">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> features </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">-- An array of features.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  isc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">ISCFeature</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">PONY_DETECTION</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> mod </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> isc</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token function" style="color:rgb(220, 220, 170)">upgradeMod</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">modVanilla</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> features</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">mod</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token function" style="color:rgb(220, 220, 170)">AddCallback</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">ModCallbacks</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">MC_POST_PEFFECT_UPDATE</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(86, 156, 214)">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">player</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  </span><span class="token keyword" style="color:rgb(86, 156, 214)">local</span><span class="token plain"> usingPony </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mod</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token function" style="color:rgb(220, 220, 170)">isPlayerUsingPony</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">player</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  Isaac</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token function" style="color:rgb(220, 220, 170)">DebugString</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Is this player using a Pony? &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">..</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">tostring</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">usingPony</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"></span><span class="token keyword" style="color:rgb(86, 156, 214)">end</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup_TNwR"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_MVhB" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_yxgH"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_QJLJ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here, by specifying that we want the &quot;pony detection&quot; feature, extra methods are added on to the mod object. Then, we can proceed to use those methods throughout our mod.</p>
<br>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="updating-the-library">Updating the Library<a href="#updating-the-library" class="hash-link" aria-label="Direct link to Updating the Library" title="Direct link to Updating the Library">​</a></h2>
<p>The <code>isaac-typescript-definitions</code> and <code>isaacscript-common</code> packages change frequently with bug fixes and new features. You can read about the latest changes on the <a href="/main/change-log">change log</a> or by reading the <a href="https://github.com/IsaacScript/isaacscript/commits/main" target="_blank" rel="noopener noreferrer">commits to the monorepo</a>. Subsequently, it is a good idea to keep your library version up to date.</p>
<ul>
<li>The version of your downloaded library can be found in a comment at the top of your <code>isaacscript-common.lua</code> file.</li>
<li>The latest version of the <code>isaacscript-common</code> library can be found on <a href="https://www.npmjs.com/package/isaacscript-common" target="_blank" rel="noopener noreferrer">the npm page</a> (below the title at the top of the page).</li>
</ul>
<p>To update, you can manually download the latest Lua file again from the links above. Or, if you have the <code>isaacscript-common</code> Python tool installed, you can simply run: <code>isaacscript-common update</code></p>
<br>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="using-javascripttypescript-array-methods-in-lua">Using JavaScript/TypeScript Array Methods in Lua<a href="#using-javascripttypescript-array-methods-in-lua" class="hash-link" aria-label="Direct link to Using JavaScript/TypeScript Array Methods in Lua" title="Direct link to Using JavaScript/TypeScript Array Methods in Lua">​</a></h2>
<p>In JavaScript/TypeScript, arrays come preloaded with <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="noopener noreferrer">a bunch of useful methods</a> such as <code>map</code> and <code>filter</code>, which allow you to write functional, high-level code.</p>
<p>Many of these array methods are now provided as <a href="/isaacscript-common/functions/arrayLua">convenience functions</a> inside of <code>isaacscript-common</code> specifically for Lua users who don&#x27;t have these methods natively.</p>
<p>If you find yourself using a <code>for</code> loop to iterate over an array - stop. Become a better programmer and <a href="https://www.syncfusion.com/blogs/post/javascript-higher-order-functions-a-complete-guide.aspx" target="_blank" rel="noopener noreferrer">use a higher-order function instead.</a></p>
<br>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="steam-workshop">Steam Workshop<a href="#steam-workshop" class="hash-link" aria-label="Direct link to Steam Workshop" title="Direct link to Steam Workshop">​</a></h2>
<p>You might be wondering why <code>isaacscript-common</code> is not offered on the Steam Workshop. Having Isaac libraries live on the workshop is a poor design choice, as it forces end-users to subscribe to an extra thing. When someone wants to play your mod, they should only have to subscribe to one thing - your mod.</p>
<p>Furthermore, having the library logic bundled with the mod preserves backwards compatibility and ensures that library is tightly-coupled to the mod logic that is using it. It also allows the mod author to be in complete control of when they update to the latest version, if ever. This also allows the upstream library to make breaking changes and stay clean without having to worry about having perpetual technical debt.</p>
<br>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="the-isaacscript-stage-library">The IsaacScript Stage Library<a href="#the-isaacscript-stage-library" class="hash-link" aria-label="Direct link to The IsaacScript Stage Library" title="Direct link to The IsaacScript Stage Library">​</a></h2>
<p>The IsaacScript standard library contains the ability to create <a href="/main/custom-stages">custom stages</a>, which was inspired by StageAPI and aims <a href="/main/custom-stages#motivation">to improve upon it</a>.</p>
<p>Note that some of the custom stage functions (such as e.g. <code>setCustomStage</code>) cannot be used in Lua, since they require a compiler to generate the custom stage metadata. For advanced users, you could manually prepare the metadata, but at that point you would probably be better off using <a href="https://github.com/Meowlala/BOIStageAPI15" target="_blank" rel="noopener noreferrer">StageAPI</a>, since nothing you write is going to be type safe anyway.</p>
<br>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="file-size">File Size<a href="#file-size" class="hash-link" aria-label="Direct link to File Size" title="Direct link to File Size">​</a></h2>
<p>The file size of the library is around 2 megabytes, so using the library will increase the total size of your mod by that amount. With that said, the file size of your mod is mostly irrelevant for a few reasons. This is a common misconception by newer programmers, so it is worth taking a few minutes to explain why this is.</p>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="running-time">Running Time<a href="#running-time" class="hash-link" aria-label="Direct link to Running Time" title="Direct link to Running Time">​</a></h3>
<p>A library&#x27;s run-time is defined as the time it takes for its code to execute while the player is inside of the game, actively playing. Just because a library has a large file size does not mean that it takes a long time to execute. Obviously, not all lines of code are created equal, and different kinds of code will take varying amounts of time to execute.</p>
<p>As <a href="#using-custom-callbacks">previously mentioned</a>, <code>isaacscript-common</code> will not cause any code to be executed in your mod by default. Thus, it has no run-time cost whatsoever if you are just using enums and pure functions.</p>
<p>On the other hand, if you explicitly upgrade your mod, some extra code is executed using some vanilla callbacks. However, the code is extremely efficient such that callback code is only ever executed if you are actually using the specific callback. Thus, thousands of copies of the standard library can run simultaneously without ever measuring a run-time performance penalty.</p>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="loading-time">Loading Time<a href="#loading-time" class="hash-link" aria-label="Direct link to Loading Time" title="Direct link to Loading Time">​</a></h3>
<p>Loading time is defined as the time it takes for the game to load the Lua code when the game first boots. Just because a library has a large file size does not mean that it takes a long time for the game to load it.</p>
<p>In general, we care about loading time a lot less than the run-time, because it only happens when the user first launches the game. And it is largely invisible to the end-user playing the mod.</p>
<p>With that said, loading the library has been measured to take around 4 milliseconds. Thus, you could load the library around 250 times in a row before an end-user would ever even start to notice. So, even if you are passionate enough to care about this, the library is around three orders of magnitude too small for it to matter.</p>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="download-time">Download Time<a href="#download-time" class="hash-link" aria-label="Direct link to Download Time" title="Direct link to Download Time">​</a></h3>
<p>Download time is defined as the time it takes to download the mod over Steam. This is probably the place where the size of your mod matters the most.</p>
<p>With that said, we care about download time even less than loading time, because it only happens once on the initial mod download. (It would also happen if you upload a mod patch post-release.) Obviously, this is going to happen a lot less and matter a lot less than the previous two sections.</p>
<p>In 2022, the <a href="https://www.oberlo.com/statistics/average-internet-speed-by-country" target="_blank" rel="noopener noreferrer">average internet speed is 64.7 Mbps</a>. This means that on average, users will be able to download the library in just 0.3 seconds. (Average speed also increases every year, so this number will be even smaller by the time you are reading this.)</p>
<p>How much does 0.3 seconds matter? That depends on your much you value sub-second optimizations that will only happen once-per-user over the lifetime of your product. For most sane people, this will be near-zero.</p>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="other-assets">Other Assets<a href="#other-assets" class="hash-link" aria-label="Direct link to Other Assets" title="Direct link to Other Assets">​</a></h3>
<p>Note that for many mods, the size of your assets (e.g. sprite files, sound files, music files, room files) will vastly outweigh the size of all of your code. So even if the file size of your code did matter (which it doesn&#x27;t), it would quickly become more important to spend time and energy on reducing the file size of the assets instead of worrying about optimizing the code.</p>
<p>In order to further drive home this point home, consider that the most popular Repentance mod of all time is <a href="https://steamcommunity.com/sharedfiles/filedetails/?id=2851063440" target="_blank" rel="noopener noreferrer">Fiend Folio</a>, which clocks in at around 581 megabytes. That is <strong>several orders of magnitude larger than the standard library</strong>, and yet virtually no-one in the Isaac ecosystem cares.</p>
<h3 class="anchor anchorWithStickyNavbar_fF9Z" id="minification">Minification<a href="#minification" class="hash-link" aria-label="Direct link to Minification" title="Direct link to Minification">​</a></h3>
<p>It is possible to reduce the file size of the library by using a <a href="https://www.npmjs.com/package/isaacscript-common" target="_blank" rel="noopener noreferrer">Lua minifier</a>. However, it is not recommended to do this, because it will not improve the run-time speed of your mod. (The whole point of minification is to reduce the file size of the mod, but doing that is near-pointless, as the previous four sections have established.)</p>
<p>Furthermore, minification is actively harmful since it will obfuscate the line numbers of your run-time errors. (Run-time errors are mostly non-existent if you use TypeScript, but they happen a ton in Lua.)</p>
<h2 class="anchor anchorWithStickyNavbar_fF9Z" id="typescript">TypeScript<a href="#typescript" class="hash-link" aria-label="Direct link to TypeScript" title="Direct link to TypeScript">​</a></h2>
<p>If you find the IsaacScript standard library useful, you should consider using it in a TypeScript mod. TypeScript has the advantage of auto-complete, auto-importing, and the compiler preventing you from ever misusing anything in the library. Taken together, it makes for a dream-like Isaac development experience.</p>
<p>For more information, see the <a href="/main/features">list of features</a>. (If you don&#x27;t know how to program in TypeScript, then you can learn in around <a href="/main/javascript-tutorial">30 minutes</a>.)</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/IsaacScript/isaacscript/edit/main/packages/docs/docs/main/isaacscript-in-lua.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_UohW" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_T23F"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/main/gotchas"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Gotchas</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/main/isaacscript-in-typescript"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using IsaacScript in TypeScript</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_TN1Q thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#automatic-installation-optional" class="table-of-contents__link toc-highlight">Automatic Installation (Optional)</a></li><li><a href="#manual-installation" class="table-of-contents__link toc-highlight">Manual Installation</a><ul><li><a href="#step-1---download-the-library" class="table-of-contents__link toc-highlight">Step 1 - Download the Library</a></li><li><a href="#step-2---put-it-in-your-mod" class="table-of-contents__link toc-highlight">Step 2 - Put It In Your Mod</a></li></ul></li><li><a href="#basic-usage" class="table-of-contents__link toc-highlight">Basic Usage</a><ul><li><a href="#import-the-library" class="table-of-contents__link toc-highlight">Import the Library</a></li><li><a href="#using-pure-functions" class="table-of-contents__link toc-highlight">Using Pure Functions</a></li><li><a href="#using-enums" class="table-of-contents__link toc-highlight">Using Enums</a></li><li><a href="#using-custom-callbacks" class="table-of-contents__link toc-highlight">Using Custom Callbacks</a></li><li><a href="#using-extra-features" class="table-of-contents__link toc-highlight">Using Extra Features</a></li></ul></li><li><a href="#updating-the-library" class="table-of-contents__link toc-highlight">Updating the Library</a></li><li><a href="#using-javascripttypescript-array-methods-in-lua" class="table-of-contents__link toc-highlight">Using JavaScript/TypeScript Array Methods in Lua</a></li><li><a href="#steam-workshop" class="table-of-contents__link toc-highlight">Steam Workshop</a></li><li><a href="#the-isaacscript-stage-library" class="table-of-contents__link toc-highlight">The IsaacScript Stage Library</a></li><li><a href="#file-size" class="table-of-contents__link toc-highlight">File Size</a><ul><li><a href="#running-time" class="table-of-contents__link toc-highlight">Running Time</a></li><li><a href="#loading-time" class="table-of-contents__link toc-highlight">Loading Time</a></li><li><a href="#download-time" class="table-of-contents__link toc-highlight">Download Time</a></li><li><a href="#other-assets" class="table-of-contents__link toc-highlight">Other Assets</a></li><li><a href="#minification" class="table-of-contents__link toc-highlight">Minification</a></li></ul></li><li><a href="#typescript" class="table-of-contents__link toc-highlight">TypeScript</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>