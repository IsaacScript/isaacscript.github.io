"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[80770],{2511:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});var t=n(31085),i=n(71184);const l={custom_edit_url:null},c="ModFeature",r={id:"isaacscript-common/other/classes/ModFeature",title:"ModFeature",description:"Helper class for mods that want to represent their individual features as classes. Extend your",source:"@site/docs/isaacscript-common/other/classes/ModFeature.md",sourceDirName:"isaacscript-common/other/classes",slug:"/isaacscript-common/other/classes/ModFeature",permalink:"/isaacscript-common/other/classes/ModFeature",draft:!1,unlisted:!1,editUrl:null,tags:[],version:"current",frontMatter:{custom_edit_url:null},sidebar:"isaacScriptCommon",previous:{title:"DefaultMap",permalink:"/isaacscript-common/other/classes/DefaultMap"},next:{title:"ModUpgraded",permalink:"/isaacscript-common/other/classes/ModUpgraded"}},a={},d=[{value:"Constructors",id:"constructors",level:2},{value:"constructor",id:"constructor",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Properties",id:"properties",level:2},{value:"shouldCallbackMethodsFire",id:"shouldcallbackmethodsfire",level:3},{value:"Defined in",id:"defined-in-1",level:4},{value:"initialized",id:"initialized",level:3},{value:"Defined in",id:"defined-in-2",level:4},{value:"Methods",id:"methods",level:2},{value:"init",id:"init",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Defined in",id:"defined-in-3",level:4},{value:"uninit",id:"uninit",level:3},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-4",level:4}];function o(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"modfeature",children:"ModFeature"}),"\n",(0,t.jsxs)(s.p,{children:["Helper class for mods that want to represent their individual features as classes. Extend your\nmod features from this class in order to enable the ",(0,t.jsx)(s.code,{children:"@Callback"})," and ",(0,t.jsx)(s.code,{children:"@CustomCallback"})," decorators\nthat automatically subscribe to callbacks."]}),"\n",(0,t.jsxs)(s.p,{children:["It is recommended that you use the ",(0,t.jsx)(s.code,{children:"initModFeatures"})," helper function to instantiate all of your\nmod classes (instead of instantiating them yourself). This is so that any attached ",(0,t.jsx)(s.code,{children:"v"})," objects\nare properly registered with the save data manager; see below."]}),"\n",(0,t.jsx)(s.p,{children:"If you are manually instantiating a mod feature yourself, then:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"You must pass your upgraded mod as the first argument to the constructor."}),"\n",(0,t.jsxs)(s.li,{children:["In almost all cases, you will want the callback functions to be immediately subscribed after\ninstantiating the class. However, if this is not the case, you can pass ",(0,t.jsx)(s.code,{children:"false"})," as the optional\nsecond argument to the constructor."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["If your mod feature has a property called ",(0,t.jsx)(s.code,{children:"v"}),", it will be assumed that these are variables that\nshould be managed by the save data manager. Unfortunately, due to technical limitations with\nclasses, this registration will only occur if you initialize the class with the ",(0,t.jsx)(s.code,{children:"initModFeatures"}),"\nhelper function. (This is because the parent class does not have access to the child's properties\nupon first construction.)"]}),"\n",(0,t.jsx)(s.h2,{id:"constructors",children:"Constructors"}),"\n",(0,t.jsx)(s.h3,{id:"constructor",children:"constructor"}),"\n",(0,t.jsxs)(s.p,{children:["\u2022 ",(0,t.jsx)(s.strong,{children:"new ModFeature"}),"(",(0,t.jsx)(s.code,{children:"mod"}),", ",(0,t.jsx)(s.code,{children:"init?"}),"): ",(0,t.jsx)(s.a,{href:"/isaacscript-common/other/classes/ModFeature",children:(0,t.jsx)(s.code,{children:"ModFeature"})})]}),"\n",(0,t.jsx)(s.h4,{id:"parameters",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Name"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Type"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Default value"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"mod"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.a,{href:"/isaacscript-common/other/classes/ModUpgraded",children:(0,t.jsx)(s.code,{children:"ModUpgraded"})})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"undefined"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"init"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"boolean"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"true"})})]})]})]}),"\n",(0,t.jsx)(s.h4,{id:"returns",children:"Returns"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"/isaacscript-common/other/classes/ModFeature",children:(0,t.jsx)(s.code,{children:"ModFeature"})})}),"\n",(0,t.jsx)(s.h4,{id:"defined-in",children:"Defined in"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"https://github.com/IsaacScript/isaacscript/blob/54ef116/packages/isaacscript-common/src/classes/ModFeature.ts#L109",children:"packages/isaacscript-common/src/classes/ModFeature.ts:109"})}),"\n",(0,t.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(s.h3,{id:"shouldcallbackmethodsfire",children:"shouldCallbackMethodsFire"}),"\n",(0,t.jsxs)(s.p,{children:["\u2022 ",(0,t.jsx)(s.code,{children:"Protected"})," ",(0,t.jsx)(s.strong,{children:"shouldCallbackMethodsFire"}),": ",(0,t.jsx)(s.code,{children:"null"})," | <T>(",(0,t.jsx)(s.code,{children:"vanilla"}),": ",(0,t.jsx)(s.code,{children:"T"}),", ",(0,t.jsx)(s.code,{children:"modCallback"}),": ",(0,t.jsx)(s.code,{children:"T"})," extends ",(0,t.jsx)(s.code,{children:"true"})," ? ",(0,t.jsx)(s.code,{children:"ModCallback"})," : ",(0,t.jsx)(s.a,{href:"/isaacscript-common/other/enums/ModCallbackCustom",children:(0,t.jsx)(s.code,{children:"ModCallbackCustom"})}),", ...",(0,t.jsx)(s.code,{children:"callbackArgs"}),": readonly ",(0,t.jsx)(s.code,{children:"unknown"}),"[]) => ",(0,t.jsx)(s.code,{children:"boolean"})," = ",(0,t.jsx)(s.code,{children:"null"})]}),"\n",(0,t.jsxs)(s.p,{children:["An optional method that allows for conditional callback execution. If specified, any class\nmethod that is annotated with a ",(0,t.jsx)(s.code,{children:"@Callback"})," or ",(0,t.jsx)(s.code,{children:"@CallbackCustom"})," decorator will only be fired\nif the executed conditional function returns true."]}),"\n",(0,t.jsx)(s.p,{children:"This property is used to easily turn entire mod features on and off (rather than repeating\nconditional logic and early returning at the beginning of every callback function)."}),"\n",(0,t.jsx)(s.p,{children:"Since the specific information for the firing callback is passed as arguments into the\nconditional method, you can also write logic that would only apply to a specific type of\ncallback."}),"\n",(0,t.jsx)(s.p,{children:"By default, this is set to null, which means that all callback methods will fire\nunconditionally. Override this property in your class if you need to use it."}),"\n",(0,t.jsx)(s.p,{children:"The function has the following signature:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-ts",children:"<T extends boolean>(\n  vanilla: T, // Whether this is a vanilla or custom callback.\n  modCallback: T extends true ? ModCallback : ModCallbackCustom,\n  ...callbackArgs: unknown[] // This would be e.g. `pickup: EntityPickup` for the `POST_PICKUP_INIT` callback.\n) => boolean;\n"})}),"\n",(0,t.jsx)(s.h4,{id:"defined-in-1",children:"Defined in"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"https://github.com/IsaacScript/isaacscript/blob/54ef116/packages/isaacscript-common/src/classes/ModFeature.ts#L93",children:"packages/isaacscript-common/src/classes/ModFeature.ts:93"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"initialized",children:"initialized"}),"\n",(0,t.jsxs)(s.p,{children:["\u2022 ",(0,t.jsx)(s.strong,{children:"initialized"}),": ",(0,t.jsx)(s.code,{children:"boolean"})," = ",(0,t.jsx)(s.code,{children:"false"})]}),"\n",(0,t.jsx)(s.p,{children:"Whether the feature has registered its callbacks yet."}),"\n",(0,t.jsxs)(s.p,{children:["This will almost always be equal to true unless you explicitly passed ",(0,t.jsx)(s.code,{children:"false"})," to the second\nargument of the constructor."]}),"\n",(0,t.jsx)(s.h4,{id:"defined-in-2",children:"Defined in"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"https://github.com/IsaacScript/isaacscript/blob/54ef116/packages/isaacscript-common/src/classes/ModFeature.ts#L107",children:"packages/isaacscript-common/src/classes/ModFeature.ts:107"})}),"\n",(0,t.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(s.h3,{id:"init",children:"init"}),"\n",(0,t.jsxs)(s.p,{children:["\u25b8 ",(0,t.jsx)(s.strong,{children:"init"}),"(",(0,t.jsx)(s.code,{children:"init?"}),"): ",(0,t.jsx)(s.code,{children:"void"})]}),"\n",(0,t.jsxs)(s.p,{children:["Runs the ",(0,t.jsx)(s.code,{children:"Mod.AddCallback"})," and ",(0,t.jsx)(s.code,{children:"ModUpgraded.AddCallbackCustom"}),' methods for all of the decorated\ncallbacks. Also registers/unregisters the "v" variable on the save data manager.']}),"\n",(0,t.jsx)(s.h4,{id:"parameters-1",children:"Parameters"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Name"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Type"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Default value"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"init"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"boolean"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"true"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:"Optional. Whether to initialize or uninitialize. Default is true."})]})})]}),"\n",(0,t.jsx)(s.h4,{id:"returns-1",children:"Returns"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"void"})}),"\n",(0,t.jsx)(s.h4,{id:"defined-in-3",children:"Defined in"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"https://github.com/IsaacScript/isaacscript/blob/54ef116/packages/isaacscript-common/src/classes/ModFeature.ts#L123",children:"packages/isaacscript-common/src/classes/ModFeature.ts:123"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"uninit",children:"uninit"}),"\n",(0,t.jsxs)(s.p,{children:["\u25b8 ",(0,t.jsx)(s.strong,{children:"uninit"}),"(): ",(0,t.jsx)(s.code,{children:"void"})]}),"\n",(0,t.jsxs)(s.p,{children:["Runs the ",(0,t.jsx)(s.code,{children:"Mod.RemoveCallback"})," and ",(0,t.jsx)(s.code,{children:"ModUpgraded.RemoveCallbackCustom"})," methods for all of the\ndecorated callbacks."]}),"\n",(0,t.jsxs)(s.p,{children:["This is just an alias for ",(0,t.jsx)(s.code,{children:"ModFeature.init(false)"}),"."]}),"\n",(0,t.jsx)(s.h4,{id:"returns-2",children:"Returns"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"void"})}),"\n",(0,t.jsx)(s.h4,{id:"defined-in-4",children:"Defined in"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.a,{href:"https://github.com/IsaacScript/isaacscript/blob/54ef116/packages/isaacscript-common/src/classes/ModFeature.ts#L152",children:"packages/isaacscript-common/src/classes/ModFeature.ts:152"})})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},71184:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>r});var t=n(14041);const i={},l=t.createContext(i);function c(e){const s=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(l.Provider,{value:s},e.children)}}}]);